{# 
  Template da p√°gina inicial.
  - Usa heran√ßa de templates (extends) para reutilizar o layout do base.html
  - Renderiza bot√µes e sec√ß√µes conforme o estado de autentica√ß√£o e conte√∫dos dispon√≠veis
#}
{% extends "base.html" %}

{# Define o t√≠tulo da p√°gina (substitui o bloco "title" do base.html) #}
{% block title %}In√≠cio - Discover Lisboa{% endblock %}

{# Conte√∫do principal da p√°gina inicial (substitui o bloco "content" do base.html) #}
{% block content %}

<!-- Sec√ß√£o Hero -->
<div class="hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Descobre Lisboa</h1>
            <p class="hero-subtitle">
                O teu guia tur√≠stico e gastron√≥mico interativo da capital portuguesa
            </p>
            <div class="hero-buttons">
                <a href="{{ url_for('main.map_view') }}" class="btn-large btn-primary">Explorar Mapa</a>
                {% if not current_user.is_authenticated %}
                    <a href="{{ url_for('auth.register') }}" class="btn-large btn-secondary">Criar Conta</a>
                {% else %}
                    <a href="{{ url_for('main.dashboard') }}" class="btn-large btn-secondary">Minha Dashboard</a>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Sec√ß√£o Funcionalidades -->

<div class="container section">
    <h2 class="section-title">Funcionalidades</h2>
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">üìç</div>
            <h3>Mapa Interativo</h3>
            <p>Explora Lisboa atrav√©s de um mapa interativo com marcadores de locais tur√≠sticos e gastron√≥micos.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">üçΩÔ∏è</div>
            <h3>Gastronomia</h3>
            <p>Descobre os melhores restaurantes e pratos t√≠picos da cidade.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">üèõÔ∏è</div>
            <h3>Pontos Tur√≠sticos</h3>
            <p>Visita museus, monumentos e miradouros emblem√°ticos de Lisboa.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">üì∏</div>
            <h3>Multim√©dia</h3>
            <p>Conte√∫dos enriquecidos com imagens, v√≠deos e √°udio.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">üîç</div>
            <h3>Pesquisa Inteligente</h3>
            <p>Encontra locais facilmente com pesquisa tipo Google Maps.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">üë•</div>
            <h3>Contribui</h3>
            <p>Regista-te e adiciona os teus locais favoritos de Lisboa.</p>
        </div>
    </div>
</div>

<!-- Conteudos em destaque - dinamico -->
{% if featured_contents %}
<div class="container section">
    <h2 class="section-title">Conte√∫dos em Destaque</h2>
    <div class="content-grid">
        {% for content in featured_contents %}
        <div class="content-card">
            {% if content.media_type == 'image' %}
                <img src="{{ url_for('static', filename='uploads/' + content.media_filename) }}" 
                     alt="{{ content.title }}" class="content-image">
            {% elif content.media_type == 'video' %}
                <video class="content-video" controls>
                    <source src="{{ url_for('static', filename='uploads/' + content.media_filename) }}">
                </video>
            {% endif %}
            <div class="content-info">
                <span class="content-category">{{ content.category }}</span>
                <h3>{{ content.title }}</h3>
                <p>{{ content.description[:100] }}{% if content.description|length > 100 %}...{% endif %}</p>
                {% if content.location_name %}
                    <p class="content-location">üìç {{ content.location_name }}</p>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- Sec√ß√£o final -->
<div class="cta-section">
    <div class="container">
        <h2>Pronto para Explorar Lisboa?</h2>
        <p>Junta-te √† comunidade e come√ßa a descobrir os melhores locais da cidade.</p>
        <a href="{{ url_for('main.map_view') }}" class="btn-large btn-primary">Ver Mapa Completo</a>
    </div>
</div>
{% endblock %}
